package database

{{if and .UseSQL .UseORM}}
import "gorm.io/gorm"

type ItemRepository struct {
	db *gorm.DB
}

func NewItemRepository(db *gorm.DB) *ItemRepository {
	return &ItemRepository{db: db}
}
{{else if .UseSQL}}
import "database/sql"

type ItemRepository struct {
	db *sql.DB
}

func NewItemRepository(db *sql.DB) *ItemRepository {
	return &ItemRepository{db: db}
}
{{else}}
type ItemRepository struct{}

func NewItemRepository() *ItemRepository {
	return &ItemRepository{}
}
{{end}}

func (r *ItemRepository) List() ([]map[string]any, error) {
	out := make([]map[string]any, 0, 1)
	out = append(out, map[string]any{"id": 1, "name": "sample"})
	return out, nil
}
