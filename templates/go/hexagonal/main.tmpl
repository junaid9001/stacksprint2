package main

// Hexagonal fallback template. See core/ports, core/services, adapters/* for full structure.

import (
	"os"

	{{if eq .Framework "gin"}}"github.com/gin-gonic/gin"{{else}}"github.com/gofiber/fiber/v2"{{end}}
)

func main() {
	port := os.Getenv("PORT")
	if port == "" { port = "{{.Port}}" }

	{{if eq .Framework "gin"}}
	r := gin.Default()
	r.GET("/health", func(c *gin.Context) { c.JSON(200, gin.H{"status": "ok", "mode": "hexagonal"}) })
	r.Run(":" + port)
	{{else}}
	app := fiber.New()
	app.Get("/health", func(c *fiber.Ctx) error { return c.JSON(fiber.Map{"status": "ok", "mode": "hexagonal"}) })
	app.Listen(":" + port)
	{{end}}
}